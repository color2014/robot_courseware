



<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="传智专修学院 人工智能和机器人实验室 深度学习">
      
      
      
      
        <meta name="lang:clipboard.copy" content="复制">
      
        <meta name="lang:clipboard.copied" content="已复制">
      
        <meta name="lang:search.language" content="jp">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="没有找到符合条件的结果">
      
        <meta name="lang:search.result.one" content="找到 1 个符合条件的结果">
      
        <meta name="lang:search.result.other" content="# 个符合条件的结果">
      
        <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>01-分类和回归-决策树 - 黑马智能机器人—深度学习</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <!--<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">-->
        <link rel="stylesheet" href="https://fonts.geekzu.org/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#01-" tabindex="0" class="md-skip">
        跳转至
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <!-- <a href="../.." title="黑马智能机器人—深度学习" aria-label="黑马智能机器人—深度学习" class="md-header-nav__button md-logo"> -->
        <a href="/docs/" title="黑马智能机器人—深度学习" aria-label="黑马智能机器人—深度学习" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              <a href="../..">黑马智能机器人—深度学习</a>
            </span>
            <span class="md-header-nav__topic">
              
                01-分类和回归-决策树
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            键入以开始搜索
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer" style="display: none;">
    <a href="../.." title="黑马智能机器人—深度学习" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    黑马智能机器人—深度学习
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      一、机器学习入门
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        一、机器学习入门
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter01/" title="学习目标" class="md-nav__link">
      学习目标
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter01/01-primer/" title="01-机器学习概述" class="md-nav__link">
      01-机器学习概述
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter01/02-plinko/" title="02-幸运投球" class="md-nav__link">
      02-幸运投球
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter01/03-knn/" title="03-KNN算法" class="md-nav__link">
      03-KNN算法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter01/04-optimize/" title="04-优化预测结果" class="md-nav__link">
      04-优化预测结果
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter01/05-exercise/" title="05-推荐系统案例&作业练习" class="md-nav__link">
      05-推荐系统案例&作业练习
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      二、线性回归&梯度下降
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        二、线性回归&梯度下降
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter02/" title="学习目标" class="md-nav__link">
      学习目标
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter02/01-linear_regression/" title="01-线性回归" class="md-nav__link">
      01-线性回归
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter02/02-MAE%26MSE/" title="02-MAE vs MSE" class="md-nav__link">
      02-MAE vs MSE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter02/03-gradient_descent/" title="03-还记得大明湖畔的导数吗" class="md-nav__link">
      03-还记得大明湖畔的导数吗
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter02/04-exercise/" title="04-作业练习" class="md-nav__link">
      04-作业练习
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      三、学习速率&回归进阶
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        三、学习速率&回归进阶
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter03/" title="学习目标" class="md-nav__link">
      学习目标
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter03/01-gradient_descent/" title="01-梯度下降" class="md-nav__link">
      01-梯度下降
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter03/02-learning_rate/" title="02-学习速率" class="md-nav__link">
      02-学习速率
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter03/03-linear_regression/" title="03-线性回归进阶" class="md-nav__link">
      03-线性回归进阶
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      四、决策树&感知机
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        四、决策树&感知机
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="学习目标" class="md-nav__link">
      学习目标
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        01-分类和回归-决策树
      </label>
    
    <a href="./" title="01-分类和回归-决策树" class="md-nav__link md-nav__link--active">
      01-分类和回归-决策树
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    决策树
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    思考题1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    思考题2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    决策树计算机求解
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    信息论入门
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entropy" class="md-nav__link">
    信息论和熵（entropy）
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    信息论
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    多分类熵计算
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    思考题
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#information-gain" class="md-nav__link">
    信息量（information gain)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    决策树算法
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    随机深林
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hyper-parameter" class="md-nav__link">
    超级参数 hyper parameter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    决策树案例
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    过拟合和欠拟合
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    作业，调整参数
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    决策树优缺点：
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../02-perceptron/" title="02-分类和回归-感知机" class="md-nav__link">
      02-分类和回归-感知机
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      五、分类与逻辑回归
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        五、分类与逻辑回归
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter05/" title="学习目标" class="md-nav__link">
      学习目标
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter05/01-logic_regression/" title="01-分类与逻辑回归" class="md-nav__link">
      01-分类与逻辑回归
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter05/02-cross_entropy/" title="02-交叉熵" class="md-nav__link">
      02-交叉熵
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter05/03-Multi-Class_Logistic_Regression/" title="03-多分类回归" class="md-nav__link">
      03-多分类回归
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter05/04-image_recognition/" title="04-手写数字识别" class="md-nav__link">
      04-手写数字识别
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      六、神经网络&模型评估
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        六、神经网络&模型评估
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter06/" title="学习目标" class="md-nav__link">
      学习目标
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter06/01-cnn_demo/" title="01-CNN案例" class="md-nav__link">
      01-CNN案例
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter06/02-neural_network/" title="02-机器学习&神经网络" class="md-nav__link">
      02-机器学习&神经网络
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter06/03-performance_confusion_matrix/" title="03-模型评估" class="md-nav__link">
      03-模型评估
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      七、卷积神经网络
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        七、卷积神经网络
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter07/" title="学习目标" class="md-nav__link">
      学习目标
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter07/01-CNN/" title="01-CNN入门" class="md-nav__link">
      01-CNN入门
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter07/02-CNN/" title="02-CNN网络识别和训练" class="md-nav__link">
      02-CNN网络识别和训练
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      八、深度学习框架-keras
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        八、深度学习框架-keras
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter08/" title="学习目标" class="md-nav__link">
      学习目标
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter08/01-keras/" title="01-深度学习框架" class="md-nav__link">
      01-深度学习框架
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter08/02-exercise/" title="02-手写数字识别实战" class="md-nav__link">
      02-手写数字识别实战
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    决策树
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    思考题1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    思考题2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    决策树计算机求解
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    信息论入门
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entropy" class="md-nav__link">
    信息论和熵（entropy）
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    信息论
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    多分类熵计算
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    思考题
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#information-gain" class="md-nav__link">
    信息量（information gain)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    决策树算法
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    随机深林
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hyper-parameter" class="md-nav__link">
    超级参数 hyper parameter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    决策树案例
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    过拟合和欠拟合
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    作业，调整参数
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    决策树优缺点：
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="01-">01-分类和回归-决策树<a class="headerlink" href="#01-" title="Permanent link">&para;</a></h1>
<p>机器学习中两大类问题，分类和回归</p>
<ul>
<li>回归：how much</li>
<li>分类： yes/no</li>
</ul>
<h2 id="_1">决策树<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>决策树是一种常见的分类算法</p>
<table>
<thead>
<tr>
<th>性别</th>
<th>职业</th>
<th>喜好</th>
</tr>
</thead>
<tbody>
<tr>
<td>女1</td>
<td>学生</td>
<td>王者农药</td>
</tr>
<tr>
<td>女2</td>
<td>工作</td>
<td>小红书</td>
</tr>
<tr>
<td>男1</td>
<td>工作</td>
<td>学习强国</td>
</tr>
<tr>
<td>女3</td>
<td>工作</td>
<td>小红书</td>
</tr>
<tr>
<td>男2</td>
<td>学生</td>
<td>王者农药</td>
</tr>
<tr>
<td>男3</td>
<td>学生</td>
<td>王者农药</td>
</tr>
</tbody>
</table>
<h2 id="1">思考题1<a class="headerlink" href="#1" title="Permanent link">&para;</a></h2>
<ul>
<li>一个工作中的女性，你应该推荐什么应用给她？</li>
<li>一个在政府上班的男性，你推荐什么应用给他？</li>
<li>一个在上高中的女学生，你推荐什么应用给她？</li>
</ul>
<h2 id="2">思考题2<a class="headerlink" href="#2" title="Permanent link">&para;</a></h2>
<ul>
<li>在年龄和职业两个因素中，哪个更会决定，用户下载软件的类型</li>
</ul>
<p><img src="./img/image-20191118000455600.png" alt="image-20191118000455600" style="zoom:67%;" /></p>
<h2 id="_2">决策树计算机求解<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>如何让计算机找出来数据的关系，分析出来哪个因素决定性更强</p>
<p><img alt="image-20191118165637195" src="../img/image-20191118165637195.png" /></p>
<p>问题，上图的表，  水平的线 还是垂直的线更适合拆分数据？</p>
<p><img alt="" src="../img/image-20191118001546048.png" /></p>
<p><img alt="" src="../img/image-20191118002308445.png" /></p>
<h2 id="_3">信息论入门<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<p>A，B，C，D 四个选项，选什么好呢？</p>
<p><img alt="image-20191118014836496" src="../img/image-20191118014836496.png" /></p>
<p>当小明不知道选ABCD的哪一个选项时， </p>
<p>你告诉小明D是错的，提供了0.415bits的信息，</p>
<p>再告诉小明A是错的，又提供了 0.585bits的信息，</p>
<p>再告诉小明b是错的，提供了1bits的信息</p>
<p>能够算出来上面的三个数字， 才算是理解了信息论。</p>
<p>信息是如何计算的，为什么还有单位？</p>
<p>因为物理量是一个物理量</p>
<p>长度的定义：1米，在0度时，一根铂铱合金的长度，保存在巴黎，国际米元器。</p>
<p><img alt="image-20191118020307191" src="../img/image-20191118020307191.png" /></p>
<p>重量的定义：1立方分米的纯水在4℃时的质量 ，并用铂铱合金制成原器，保存在巴黎，后称国际千克原器。</p>
<p>衡量一个物体多长，就看一下需要多少个米原器去度量。</p>
<p>衡量一个物体多重，就看一下需要多少个重量的参考物。</p>
<p>信息消除的是不确定性， 参考的是抛硬币。</p>
<p>抛硬币有50%的正面概率和反面概率， 抛一次硬币的信息是1bits</p>
<p>抛两次硬币的信息有4种，抛3次是8种， 不是简单的乘法，除法运算关系。 是指数和对数运算关系。</p>
<p>ABCD四个选项的不确定性是2个bits（在abcd等比例分布的情况下)</p>
<p><span><span class="MathJax_Preview">\log _{2}4-\log _{2}3\simeq 0.415</span><script type="math/tex">\log _{2}4-\log _{2}3\simeq 0.415</script></span></p>
<p><span><span class="MathJax_Preview">\log _{2}\dfrac {1}{3}-\log _{2}\dfrac {1}{4}\simeq 0.415</span><script type="math/tex">\log _{2}\dfrac {1}{3}-\log _{2}\dfrac {1}{4}\simeq 0.415</script></span></p>
<h2 id="entropy">信息论和熵（entropy）<a class="headerlink" href="#entropy" title="Permanent link">&para;</a></h2>
<p>长 -  短</p>
<p>快 - 慢</p>
<p>熵 - 秩</p>
<p>熵： 表明的是内部分子的混乱程度。</p>
<p><img alt="image-20191118030057600" src="../img/image-20191118030057600.png" /></p>
<h2 id="_4">信息论<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<p>每次从盒子里面取一个球，记录颜色，取完后把球重新放回盒子再充分打散，连续4次。</p>
<p>求： 最终颜色和盒子之前颜色状态一致的可能性。</p>
<table>
<thead>
<tr>
<th></th>
<th>P(红色)</th>
<th>P(蓝色)</th>
<th align="center">P(胜利)</th>
</tr>
</thead>
<tbody>
<tr>
<td>红红红红</td>
<td>1</td>
<td>0</td>
<td align="center">1x1x1x1=1</td>
</tr>
<tr>
<td>红红红蓝</td>
<td>0.75</td>
<td>0.25</td>
<td align="center">0.75x0.75x0.75x0.25=0.105</td>
</tr>
<tr>
<td>红红蓝蓝</td>
<td>0.5</td>
<td>0.5</td>
<td align="center">0.5x0.5x0.5x0.5=0.0625</td>
</tr>
</tbody>
</table>
<blockquote>
<p>概率越小，信息量越小。</p>
<p>概率越小，熵越大。</p>
<p>概率越大，信息量越大。</p>
<p>概率越大，熵越小。</p>
</blockquote>
<p>物体越混乱，分布越均匀，信息量越小。</p>
<p>思考一个问题：</p>
<p>1000个球的话，那种情况P（胜利）最小，熵最大。</p>
<p>0.5的1000次方= 9.332636185032189e-302 ，是一个非常小的数据， 计算机不适合做非常小的数据的计算，精度会丢失，计算效率又很慢。</p>
<p>如何把这种乘法转化成一种容易计算的比较大一点的数据运算呢？</p>
<p>计算机不喜欢小的数， 浮点数，小数点后面多少位？ 双精度浮点型，小数点后面多少位？ 另外乘法不利于运算和比较，一旦有一项发生变化，整个结果都要重新乘一遍。</p>
<p>log函数，可以让乘法变成加法<span><span class="MathJax_Preview">\log_{e} MN=\log_{e} M+\log_{e} N</span><script type="math/tex">\log_{e} MN=\log_{e} M+\log_{e} N</script></span></p>
<p>0.75 * 0.75 * 0.75 * 0.75 * 0.75 = ?</p>
<p>log0.75 + log0.75 + log0.75 + log0.75 + log0.75  = ?</p>
<table>
<thead>
<tr>
<th></th>
<th>P(红色)</th>
<th>P(蓝色)</th>
<th align="center">P(Right)</th>
<th><span><span class="MathJax_Preview">-log_{2} P(Right)</span><script type="math/tex">-log_{2} P(Right)</script></span></th>
<th align="center">entropy熵（平均值）</th>
</tr>
</thead>
<tbody>
<tr>
<td>红红红红</td>
<td>1</td>
<td>0</td>
<td align="center">1x1x1x1=1</td>
<td>0+0+0+0=0</td>
<td align="center">0</td>
</tr>
<tr>
<td>红红红蓝</td>
<td>0.75</td>
<td>0.25</td>
<td align="center">0.75x0.75x0.75x0.25=0.105</td>
<td>0.415+0.415+0.415+2=3.245</td>
<td align="center">0.81</td>
</tr>
<tr>
<td>红红蓝蓝</td>
<td>0.5</td>
<td>0.5</td>
<td align="center">0.5x0.5x0.5x0.5=0.0625</td>
<td>1+1+1+1=4</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<p>上述公式，entropy 熵越大， 混乱程度越高，信息量越小。</p>
<p><img alt="image-20191118164852522" src="../img/image-20191118164852522.png" /></p>
<h2 id="_5">多分类熵计算<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<p><span><span class="MathJax_Preview">entropy=-\dfrac {m}{m+n}\log (\dfrac {m}{m+n})-\dfrac {n}{m+n}\log (\dfrac {n}{m+n})</span><script type="math/tex">entropy=-\dfrac {m}{m+n}\log (\dfrac {m}{m+n})-\dfrac {n}{m+n}\log (\dfrac {n}{m+n})</script></span></p>
<p>假设</p>
<p><span><span class="MathJax_Preview">P_{1}=\dfrac {m}{m+n}</span><script type="math/tex">P_{1}=\dfrac {m}{m+n}</script></span>  </p>
<p><span><span class="MathJax_Preview">P_{2}=\dfrac {n}{m+n}</span><script type="math/tex">P_{2}=\dfrac {n}{m+n}</script></span></p>
<p><span><span class="MathJax_Preview">entropy=-P_{1}\log P_{1}-P_{2}\log P_{2}</span><script type="math/tex">entropy=-P_{1}\log P_{1}-P_{2}\log P_{2}</script></span></p>
<p>推广到一般情况</p>
<p><span><span class="MathJax_Preview">entropy=-P_{1}\log P_{1}-P_{2}\log P_{2}-\ldots -P_{n}logP_{n}=-\sum ^{n}_{i=1}P_{i}\log P_{i}</span><script type="math/tex">entropy=-P_{1}\log P_{1}-P_{2}\log P_{2}-\ldots -P_{n}logP_{n}=-\sum ^{n}_{i=1}P_{i}\log P_{i}</script></span></p>
<h2 id="_6">思考题<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<p>哪个图的信息含量高，哪个题的熵小</p>
<p><img alt="image-20191118165357575" src="../img/image-20191118165357575.png" /></p>
<h2 id="information-gain">信息量（information gain)<a class="headerlink" href="#information-gain" title="Permanent link">&para;</a></h2>
<div>
<div class="MathJax_Preview">
Information\, gain=Entropy\left( Parent\right) - [ \dfrac {m}{m+n}Entropy\left( child_{1}\right) + \dfrac {n}{m+n}Entropy\left( child_{2}\right) ]
</div>
<script type="math/tex; mode=display">
Information\, gain=Entropy\left( Parent\right) - [ \dfrac {m}{m+n}Entropy\left( child_{1}\right) + \dfrac {n}{m+n}Entropy\left( child_{2}\right) ]
</script>
</div>
<h2 id="_7">决策树算法<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h2>
<p><img alt="image-20191118165650969" src="../img/image-20191118165650969.png" /></p>
<p>让信息获取 information gain最大的算法。</p>
<p>之前的mse，在这就是information gain</p>
<h2 id="_8">随机深林<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>性别</th>
<th>年龄</th>
<th>籍贯</th>
<th>平台</th>
<th>工作</th>
<th>爱好</th>
<th>App</th>
</tr>
</thead>
<tbody>
<tr>
<td>女</td>
<td>16</td>
<td>河南</td>
<td>IOS</td>
<td>学生</td>
<td>电子游戏</td>
<td>王者农药</td>
</tr>
<tr>
<td>女</td>
<td>26</td>
<td>广东</td>
<td>Android</td>
<td>工作</td>
<td>排球</td>
<td>小红书</td>
</tr>
<tr>
<td>男</td>
<td>33</td>
<td>山东</td>
<td>Android</td>
<td>工作</td>
<td>乒乓球</td>
<td>学习强国</td>
</tr>
<tr>
<td>女</td>
<td>40</td>
<td>福建</td>
<td>IOS</td>
<td>学生</td>
<td>乒乓球</td>
<td>小红书</td>
</tr>
<tr>
<td>男</td>
<td>12</td>
<td>山东</td>
<td>IOS</td>
<td>学生</td>
<td>台球</td>
<td>王者荣耀</td>
</tr>
<tr>
<td>男</td>
<td>14</td>
<td>广东</td>
<td>Android</td>
<td>学生</td>
<td>排球</td>
<td>王者荣耀</td>
</tr>
</tbody>
</table>
<p>实际数据可能维度非常多，如何更好的做出决策呢， 一般我们随机选取两列因子，根据两列因子做出预测。</p>
<p>比如说按照性别和职业进行预测， 按照年龄和爱好进行预测 按照籍贯和平台进行预测。 每种预测好像都是一个人民群众， 最后按照人民群众的智慧进行投票决策。这种做法就叫做 random forest 随机深林</p>
<h2 id="hyper-parameter">超级参数 hyper parameter<a class="headerlink" href="#hyper-parameter" title="Permanent link">&para;</a></h2>
<p>深度为k的决策树，最多能有$ 2^{k}$个叶子</p>
<p>超参：</p>
<ul>
<li><code>max_depth</code>:  决策树最多有多少层，决策树层数越多，越有可能过拟合。</li>
<li><code>min_samples_leaf</code>: 一个叶子节点如果想继续分割，最少有多少个元素.</li>
<li><code>min_samples_split</code>: 分割后的子节点里面最少有多少个元素</li>
</ul>
<p><img alt="image-20191118173116128" src="../img/image-20191118173116128.png" /></p>
<h2 id="_9">决策树案例<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h2>
<p>用决策树来解决数据分类问题。</p>
<p>sklearn有决策树的工具包 叫 DecisionTreeClassifier</p>
<ol>
<li>加载包，创建sklearn决策树的模型</li>
</ol>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeClassifier</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>

<ol>
<li>加载数据集，进行训练</li>
</ol>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x_values</span><span class="p">,</span> <span class="n">y_values</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>

<ol>
<li>
<p>进行预测</p>
<p><code>python
   print(model.predict([ [0.2, 0.8], [0.5, 0.4] ]))
   print(model.predict([ 0.2, 0.8]))</code></p>
</li>
</ol>
<p>默认的生成的模型， 精确度可能不是特别高，我们需要调整超级参数，把精确度提升</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">model</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">max_depth</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span> <span class="n">min_samples_leaf</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>

<h2 id="_10">过拟合和欠拟合<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h2>
<p>过拟合：泛化能力不强， 训练集预测数据准确性不错</p>
<p>欠拟合：训练集预测数据准确性不足</p>
<h2 id="_11">作业，调整参数<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h2>
<p>观察模型的泛化能力</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;data2.csv&#39;</span><span class="p">,</span><span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span>

<span class="n">Xtrain</span><span class="p">,</span><span class="n">Xtest</span><span class="p">,</span><span class="n">Ytrain</span><span class="p">,</span><span class="n">Ytest</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">test_size</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span><span class="n">random_state</span> <span class="o">=</span> <span class="mi">3</span> <span class="p">)</span>


<span class="n">model</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">max_depth</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">min_samples_leaf</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span>

<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">Xtrain</span><span class="p">,</span><span class="n">Ytrain</span><span class="p">)</span>

<span class="n">ytest_predict</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">Xtest</span><span class="p">)</span>
<span class="n">ytrain_predict</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">Xtrain</span><span class="p">)</span>


<span class="n">acctrain</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">Ytrain</span><span class="p">,</span> <span class="n">ytrain_predict</span><span class="p">)</span>
<span class="n">acctest</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">Ytest</span><span class="p">,</span> <span class="n">ytest_predict</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;test=</span><span class="si">{}</span><span class="s2">,train=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">acctest</span><span class="p">,</span><span class="n">acctrain</span><span class="p">))</span>
</code></pre></div>
</td></tr></table>

<h2 id="_12">决策树优缺点：<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h2>
<p>优点：</p>
<p>1、可以生成可以理解的规则</p>
<p>2、计算量相对不是很大</p>
<p>缺点：</p>
<p>1、对连续型字段比较难预测</p>
<p>2、当类别较多时，错误可能增加的比较快</p>
<p>3、对处理特征关联性比较强的数据时，表现的不是太好</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../" title="学习目标" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  上一页
                </span>
                学习目标
              </span>
            </div>
          </a>
        
        
          <a href="../02-perceptron/" title="02-分类和回归-感知机" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  下一页
                </span>
                02-分类和回归-感知机
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            <a href="https://www.czxy.com/">传智专修学院</a> 版权所有 2006 - 2020 江苏传智播客教育科技股份有限公司  学校地址：江苏省宿迁市沭阳县北京南路6号  邮编：223600   <a href="http://www.beian.miit.gov.cn/">苏ICP备16007882号-4</a>
          </div>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c33a9706.js"></script>
      
        
        
          
          <script src="../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
            
          
          
        
      
      <script>app.initialize({version:"1.1",url:{base:"../.."}})</script>
      
        <script src="../../js/extra.js"></script>
      
        <script src="https://lib.baomitu.com/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
        <script src="../../js/baidu-tongji.js"></script>
      
        <script src="../../js/baidu-tuisong.js"></script>
      
    
  </body>
</html>